## 2. Industry Comparison: AI Coding Tool Git Strategies

### Comparison Table

| Tool | Strategy | Granularity | User Control | Rollback | Hooks/API |
|------|----------|-------------|--------------|----------|-----------|
| **Aider** | Auto-commit every AI edit; dirty files committed first | Per-edit (each LLM change = 1 commit) | `--no-auto-commits`, `--no-dirty-commits`, `--no-git`, `--commit-prompt`, env vars | `/undo` command (runs `git reset --hard HEAD^`); `/diff` to inspect | `--git-commit-verify` to enable pre-commit hooks; `--commit-prompt` for message customization; MCP server available |
| **Claude Code** | No auto-commit by default; user-driven staging; checkpoint snapshots before every file edit | Per-session / manual (user decides when to commit) | Slash commands (`/commit`), `CLAUDE.md` instructions, allowed-tools config, custom slash commands | Checkpoints: Esc-Esc or `/rewind` to restore code, conversation, or both; git remains primary VCS | Hooks API: `PreToolUse`, `PostToolUse`, `Stop`, `SessionStart`; matcher for `Bash(git commit:*)` as workaround; community request for dedicated `PreCommit`/`PostCommit` events |
| **Cursor** | No auto-commit; AI generates commit messages on request; relies on git discipline | Manual (user commits when ready); recommended: commit after every accepted diff | `.cursorrules` for git conventions; Hooks (Cursor 2.0) for auto-format/checkpoint scripts; Background Agents work on separate branches | Checkpoint system (internal, per-chat); git is the "real" rollback; Hooks can add commit checkpoints | Cursor 2.0 Hooks: run scripts at agent loop points (post-edit, pre-command); `.cursorrules` file; Background Agents with branch isolation |
| **Windsurf** | No auto-commit; AI-generated commit messages on click; Cascade provides staged previews | Manual (user commits when ready); Cascade shows atomic commit boundaries for multi-file refactors | Chat/Write/Turbo modes control AI autonomy level; checkpoint naming | Named checkpoints/snapshots per conversation; prompt-level rollback arrow (irreversible); Git worktrees (Wave 13) for parallel sessions | Limited: no documented hooks API; Git worktrees for branch-level isolation; Cascade tool-calling for git operations |
| **GitHub Copilot** | No auto-commit; sparkle-icon commit message generation from staged changes; Coding Agent creates branches | Manual (user stages and commits); Agent mode auto-creates branches for tasks | Workspace-level settings override; `.github/upgrades` Markdown files for review steps; opt-in agent mode | No dedicated rollback; git is the only mechanism; Agent mode always works on separate branches | VS Code extension API; workspace-level config; custom agents/skills system; no dedicated git hooks |

---

### 2.1 Aider

**Default Behavior:** Aider auto-commits every AI-generated code change with a descriptive commit message (Conventional Commits format by default). Before editing dirty files, Aider first commits preexisting changes separately to preserve the user's work. Commit messages are generated by the `--weak-model`.

**Attribution:** Commits are tagged with `(aider)` in the git author/committer metadata. The `Co-authored-by` trailer is used by default, with `--attribute-author` and `--attribute-committer` flags providing fine-grained override control.

**Rollback:** The `/undo` command performs `git reset --hard HEAD^`, reverting the last aider commit. The `/diff` command shows changes since the last user message. Both commands rely on auto-commit being enabled.

**Hooks/API:**
- `--git-commit-verify` (default: False) controls whether pre-commit hooks run; Aider skips them by default with `--no-verify`.
- `--commit-prompt` allows custom commit message templates.
- A separate [MCP server for git-commit-aider](https://www.pulsemcp.com/servers/git-commit-aider) was released in January 2026.

**User-Reported Trade-offs:**
- **Too aggressive:** Users report unwanted commits when adding files to context ([Issue #314](https://github.com/paul-gauthier/aider/issues/314)), commits still being created even in `--no-auto-commits` mode ([Issue #101](https://github.com/Aider-AI/aider/issues/101)), and the auto-commit feature being described as a "UX nightmare" ([aider.el Issue #24](https://github.com/tninja/aider.el/issues/24)).
- **Dirty-file commits surprise users:** Aider committing unrelated staged changes before applying its own edits catches users off-guard.
- **Commit messages too verbose:** Some users report commit messages containing large parts of chat history ([Issue #392](https://github.com/paul-gauthier/aider/issues/392)).
- **`/undo` limitations:** Does not work across sessions or in `--no-auto-commits` mode ([Issue #76](https://github.com/paul-gauthier/aider/issues/76), [Issue #1018](https://github.com/Aider-AI/aider/issues/1018)).

**Sources:** [Aider Git Docs](https://aider.chat/docs/git.html), [Aider Options Reference](https://aider.chat/docs/config/options.html), [Aider FAQ](https://aider.chat/docs/faq.html)

---

### 2.2 Claude Code

**Default Behavior:** Claude Code does NOT auto-commit. It operates as an agentic assistant that can stage, commit, and push when instructed, but leaves git workflow control to the developer. Before editing any file, Claude Code snapshots the current file contents (checkpoints).

**Commit Message Generation:** Claude Code analyzes staged diffs and generates structured commit messages with bullet-point descriptions. Custom `/commit` slash commands are a popular community pattern.

**Rollback:**
- **Checkpoints** (introduced in Claude Code 2.0, September 2025): Automatic snapshots before every file edit. Press Esc twice or use `/rewind` to restore code, conversation, or both to any prior state.
- Checkpoints only cover Claude-initiated file edits, not user edits or bash commands.
- Git remains the recommended primary rollback mechanism.

**Hooks/API:**
- **Lifecycle hooks:** `PreToolUse`, `PostToolUse`, `Stop`, `SessionStart` -- defined in `settings.json` (user, project, or local).
- Hooks support tool-name matchers (e.g., `edit_file`, `Bash(git commit:*)`), file-path glob patterns, and background execution.
- Hooks guarantee execution (unlike `CLAUDE.md` instructions which can be deprioritized).
- **No dedicated `PreCommit`/`PostCommit` hook events yet** -- this is an active [feature request (#4834)](https://github.com/anthropics/claude-code/issues/4834).
- Community tools: [ccundo](https://apidog.com/blog/ccundo/) for enhanced checkpoint restore, [cc-tools](https://github.com/hesreallyhim/awesome-claude-code) (Go-based hooks utilities), GitButler integration for virtual/stacked branches.

**User-Reported Trade-offs:**
- **"Allow git commit considered harmful":** [Chris Richardson's blog post](https://microservices.io/post/genaidevelopment/2025/09/10/allow-git-commit-considered-harmful.html) argues blanket `Bash(git commit:*)` permissions are dangerous -- unreviewed AI code entering repos.
- **Setup overhead:** Users report needing significant upfront investment in `CLAUDE.md` files, custom slash commands, and hook configurations.
- **Token cost concern:** Sending large diffs for commit message generation can be expensive.
- **Community commit-helper quality:** Rated ~79/100 ("solid C-grade") by community reviewers.

**Sources:** [Claude Code Docs - How It Works](https://code.claude.com/docs/en/how-claude-code-works), [Claude Code Hooks Reference](https://code.claude.com/docs/en/hooks), [Claude Code Checkpoints Guide](https://skywork.ai/blog/claude-code-2-0-checkpoints-subagents-autonomous-coding/)

---

### 2.3 Cursor

**Default Behavior:** Cursor does NOT auto-commit. It provides AI-generated commit messages via a sparkle icon in the Source Control panel. Git discipline (frequent manual commits, feature branches) is the recommended approach.

**Agent Mode Behavior:** In Agent Mode and Background Agents, Cursor works on separate branches. Background Agents can open PRs. Cursor 2.0 (2026) added Hooks to run scripts at key agent-loop points.

**Rollback:**
- **Checkpoints:** Internal per-chat checkpoints exist but have been reported as unreliable (failures, edge cases).
- **Git is the "real" rollback:** The community consensus is to commit after every accepted diff.
- Cursor 2.0 Hooks can be used to add automatic commit checkpoints after agent edits.

**Hooks/API:**
- **Cursor 2.0 Hooks:** Run custom scripts at agent-loop points -- auto-format after edits, gate dangerous commands, add commit checkpoints, redact secrets.
- **`.cursorrules`:** Project-level configuration file for guiding AI behavior, including git conventions.
- **Background Agents:** Isolated Ubuntu VMs with branch-level isolation and custom Docker support.
- Third-party tools: [git-ai-commit](https://github.com/the-cafe/git-ai-commit) integrates with `.cursorrules`.

**User-Reported Trade-offs:**
- **Messy mega-commits:** Users frequently let Agent Mode "rip" and end up with huge uncommitted changes that are hard to organize for review.
- **Critical reversion bug (v2.3):** Cursor randomly reverting code without consent, causing data loss. Users advised to use "defensive commits."
- **Agent deletes and recreates files:** Instead of editing, Agent Mode sometimes deletes and recreates files, losing git history for those files.
- **Checkpoint unreliability:** Rollback and checkpoint restore failures have been widely reported.
- **Cursor browser experiment failure:** ~100 autonomous commits where none compiled cleanly -- described as "AI slop" with no intention behind it ([blog post](https://emsh.cat/cursor-implied-success-without-evidence/)).

**Sources:** [Cursor Git Commit Guide](https://learn-cursor.com/en/blog/posts/cursor-git-commit), [Cursor Checkpoints](https://stevekinney.com/courses/ai-development/cursor-checkpoints), [Cursor Issue #786](https://github.com/cursor/cursor/issues/786), [Cursor 2026 Review](https://prismic.io/blog/cursor-ai)

---

### 2.4 Windsurf (Cascade)

**Default Behavior:** Windsurf does NOT auto-commit. It generates AI commit messages on user request (single-click). Cascade visualizes planned multi-file edits and provides staged previews with atomic commit boundaries for large refactors.

**Modes:** Three Cascade modes (Write, Chat, Turbo) give different levels of AI autonomy over code changes.

**Rollback:**
- **Named checkpoints/snapshots:** Users can create named snapshots of project state from within conversations.
- **Prompt-level rollback:** Arrow button to return to state before a specific prompt. **Caveat: rollbacks are irreversible** -- once rolled back, you cannot undo the rollback.
- **No surgical undo:** Cannot selectively undo changes from a specific AI run without reverting everything after it.
- **Git worktrees (Wave 13, December 2025):** First-class support for parallel multi-agent sessions with branch isolation.

**Hooks/API:**
- **No documented hooks API** as of early 2026.
- **Agent Skills** support added January 2026 but limited documentation.
- Cascade tool-calling can interact with git operations.
- Git worktrees provide branch-level isolation for parallel workflows.

**User-Reported Trade-offs:**
- **Basic git integration:** Multiple reviews note that Windsurf's native git integration is "basic" compared to dedicated tools like Aider.
- **Irreversible rollbacks:** Once you roll back, you lose the ability to undo the rollback -- a significant UX limitation.
- **No surgical version control:** Users request the ability to tie code changes to specific Writer runs for granular undo.
- **Performance strength:** Cascade reduced time-to-first-commit by 40% on large enterprise codebases (1M+ LOC).

**Sources:** [Windsurf AI Commit Messages](https://docs.windsurf.com/windsurf/ai-commit-message), [Windsurf Cascade Docs](https://docs.windsurf.com/windsurf/cascade/cascade), [Windsurf Review 2026](https://www.secondtalent.com/resources/windsurf-review/), [Windsurf Changelog](https://windsurf.com/changelog)

---

### 2.5 GitHub Copilot (Workspace + Coding Agent)

**Default Behavior:** Copilot does NOT auto-commit. In VS Code, a sparkle icon generates commit messages from staged changes (analyzing `git diff --cached`). The Copilot Coding Agent auto-creates branches and works in sandboxed environments.

**Workspace Strategy:** Copilot Workspace (GitHub Next project, potentially sunsetting in favor of Agent Mode) was task-centric -- iterative from task specification to working code, with explicit user review at each step.

**Rollback:**
- **No dedicated rollback mechanism** beyond standard git.
- Coding Agent always works on separate branches, so `main` is protected.
- `.github/upgrades` Markdown files provide review checkpoints for multi-stage workflows.

**Hooks/API:**
- **VS Code extension API** for custom integration.
- **Workspace-level settings override** (per-project model selection, instructions, feature flags).
- **Custom agents and skills** system for parallel work delegation.
- No dedicated git hooks within the Copilot system itself.

**User-Reported Trade-offs:**
- **State confusion:** Copilot continues to highlight already-committed edits, creating confusion about what's staged vs. committed vs. virtual ([Discussion #163702](https://github.com/orgs/community/discussions/163702)).
- **Undo conflicts:** Using Copilot's undo on committed changes creates unwanted diffs or revert commits.
- **Too aggressive suggestions:** Users report Copilot has become "far too aggressive" with auto-complete and inline suggestions, with no granular control over aggressiveness ([Discussion #75309](https://github.com/orgs/community/discussions/75309)).
- **Workspace UX criticized:** Described as "very heavy one-and-done code generator" that is slow (5+ minutes for one-line changes) and difficult to iterate with ([Austin Henley's critique](https://austinhenley.com/blog/copilotworkspace.html)).
- **Opt-in vs. opt-out tension:** Users feel AI features are being "forced" rather than offered as opt-in.
- **File synchronization failures:** Reports of file content desynchronization and unintended code reversions ([Discussion #164993](https://github.com/orgs/community/discussions/164993)).

**Sources:** [Copilot Workspace Overview](https://githubnext.com/projects/copilot-workspace), [Copilot Features](https://docs.github.com/en/copilot/get-started/features), [Copilot Commit Messages Guide](https://loiane.com/2025/08/copilot-conventional-commit-messages/)

---

### Key Takeaways

#### 1. The Auto-Commit Spectrum
The industry ranges from **fully automatic** (Aider: every edit = commit) to **fully manual** (Cursor, Windsurf, Copilot: user decides when). Claude Code sits in between with **no auto-commit but automatic checkpoints**. No single approach satisfies all users.

#### 2. "Too Aggressive vs. Too Passive" Is the Central Tension
- **Too aggressive (Aider):** Users complain about surprise commits, dirty-file commits, and loss of control over git history. The auto-commit strategy produces clean undo semantics but clutters git history.
- **Too passive (Cursor, Copilot):** Users forget to commit, end up with massive uncommitted changes, and lose work when agents misbehave. The manual approach preserves user control but creates risk.
- **The middle ground (Claude Code checkpoints):** Separate the "safety net" concern (checkpoints) from the "version control" concern (git commits). This lets users recover from bad AI edits without polluting git history.

#### 3. Git Is the Universal Rollback Mechanism
Every tool ultimately relies on git for real rollback. Tool-specific checkpoint systems (Cursor, Windsurf, Claude Code) are secondary safety nets with known reliability issues. The recommendation across all tools is: **commit frequently, use feature branches, treat git as the source of truth**.

#### 4. Hooks/Extension Points Are Emerging But Immature
- **Claude Code** has the most developed hooks API (`PreToolUse`, `PostToolUse`, `SessionStart`, `Stop`) but still lacks dedicated `PreCommit`/`PostCommit` events.
- **Cursor 2.0** added hooks at agent-loop points but documentation is sparse.
- **Aider** provides `--commit-prompt` and `--git-commit-verify` flags but no lifecycle hooks.
- **Windsurf** and **Copilot** have no documented hooks API for git workflows.

#### 5. Attribution and Auditability Vary Widely
- **Aider:** Best-in-class attribution with `(aider)` in author/committer metadata plus `Co-authored-by` trailers.
- **Claude Code:** Uses `Co-Authored-By` in commit messages when committing via slash commands.
- **Cursor/Windsurf/Copilot:** No standardized AI attribution in commits; relies on user conventions.

#### 6. Branch Isolation Is Becoming Standard for Autonomous Agents
Background/autonomous agents increasingly work on **separate branches** (Cursor Background Agents, Copilot Coding Agent, Windsurf Git Worktrees). This protects the main branch while allowing agents to make rapid, potentially messy commits in isolation.

#### 7. Patterns for Aether to Consider
- **Checkpoint-before-edit** (Claude Code model): Low friction, no git pollution, reversible.
- **Auto-commit with attribution** (Aider model): Full git history, easy undo, but noisy.
- **Branch isolation for autonomous work** (Cursor/Copilot model): Safe but adds merge complexity.
- **Hooks for enforcement** (Claude Code/Cursor model): Guaranteed quality gates vs. advisory instructions.
- **User-configurable granularity** is essential: per-edit, per-task, per-session, or manual -- let users choose.
