---
phase: 14-visual-identity
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - .claude/commands/ant/init.md
  - .claude/commands/ant/build.md
  - .claude/commands/ant/continue.md
  - .claude/commands/ant/status.md
  - .claude/commands/ant/phase.md
autonomous: true

must_haves:
  truths:
    - "Running /ant:init displays a box-drawing header with AETHER COLONY :: INIT before the result"
    - "Running /ant:build displays a box-drawing header with AETHER COLONY :: BUILD before the colony works"
    - "Running /ant:continue displays a box-drawing header with AETHER COLONY :: CONTINUE before the result"
    - "Running /ant:status displays a rich box-drawing header with session, state, and goal info"
    - "Running /ant:phase displays a box-drawing header for both single-phase and list views"
    - "Multi-step commands (init, build, continue) show completed step progress with checkmark indicators at the end"
  artifacts:
    - path: ".claude/commands/ant/init.md"
      provides: "Box-drawing header template and 5-step progress display"
      contains: "AETHER COLONY :: INIT"
    - path: ".claude/commands/ant/build.md"
      provides: "Box-drawing header template and 7-step progress display"
      contains: "AETHER COLONY :: BUILD"
    - path: ".claude/commands/ant/continue.md"
      provides: "Box-drawing header template and 5-step progress display"
      contains: "AETHER COLONY :: CONTINUE"
    - path: ".claude/commands/ant/status.md"
      provides: "Rich box-drawing header with session/state/goal"
      contains: "AETHER COLONY STATUS"
    - path: ".claude/commands/ant/phase.md"
      provides: "Box-drawing header for phase views"
      contains: "AETHER COLONY :: PHASE"
  key_links:
    - from: ".claude/commands/ant/status.md"
      to: ".aether/data/COLONY_STATE.json"
      via: "Read tool for session_id, state, goal to populate header"
      pattern: "session_id.*state.*goal"
---

<objective>
Add box-drawing headers and step progress indicators to the 5 major command prompts.

Purpose: Restore visual identity lost during v3 rebuild. Commands currently output plain text with no visual structure. Adding Unicode box-drawing headers and step progress indicators gives professional, scannable output (VIS-01, VIS-02).

Output: 5 modified command files with box-drawing header templates and step progress display instructions.
</objective>

<execution_context>
@~/.claude/cosmic-dev-system/workflows/execute-plan.md
@~/.claude/cosmic-dev-system/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/14-visual-identity/14-RESEARCH.md

Key constraint: These are Claude-native prompt files, NOT scripts. "Adding visual identity" means adding output template blocks and formatting instructions to the markdown. There is NO bash, NO jq, NO Python. The prompt tells Claude what to output.

Anti-patterns to avoid:
- Do NOT add bash code blocks, jq commands, or Python
- Do NOT instruct Claude to "update" previous text (sequential output only)
- Do NOT calculate dynamic header widths -- use fixed-width templates (~55 chars)
- Do NOT restructure the command steps -- add formatting TO existing steps
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add box-drawing headers and step progress to init.md, build.md, and continue.md</name>
  <files>
    .claude/commands/ant/init.md
    .claude/commands/ant/build.md
    .claude/commands/ant/continue.md
  </files>
  <action>
For each of the 3 multi-step commands, add two visual elements:

**1. Box-drawing header** -- Add to the display/result step of each command. Use the simpler header format:

```
Output this header at the start of your response:

+=====================================================+
|  AETHER COLONY :: {COMMAND_NAME}                     |
+=====================================================+
```

Where {COMMAND_NAME} is INIT, BUILD, or CONTINUE respectively.

**2. Step progress indicator** -- Add to the final display step of each command. Show ALL steps as completed since the display happens at the end. Use checkmark/arrow/bracket indicators.

Specific edits per file:

**init.md** -- In Step 5 (Display Result), replace the current plain output template with one that starts with the box-drawing header, then shows step progress, THEN the existing result content:

```
Output this header:

+=====================================================+
|  AETHER COLONY :: INIT                               |
+=====================================================+

Then show step progress:

  [checkmark] Step 1: Validate Input
  [checkmark] Step 2: Read Current State
  [checkmark] Step 3: Write Colony State
  [checkmark] Step 4: Emit INIT Pheromone
  [checkmark] Step 5: Display Result

---

Then display the result:
  (existing result content: Session, Queen's Intention, Colony Status, Workers, Next Steps)
```

Use the actual Unicode checkmark character in the template.

**build.md** -- In Step 5 (before spawning), add the header. In Step 7 (Display Results), add step progress showing all 7 steps:

```
  [checkmark] Step 1: Validate
  [checkmark] Step 2: Read State
  [checkmark] Step 3: Compute Active Pheromones
  [checkmark] Step 4: Update State
  [checkmark] Step 5: Spawn Colony Ant
  [checkmark] Step 6: Record Outcome
  [checkmark] Step 7: Display Results
```

**continue.md** -- In Step 5 (Display Result), add header and 5-step progress:

```
  [checkmark] Step 1: Read State
  [checkmark] Step 2: Determine Next Phase
  [checkmark] Step 3: Clean Expired Pheromones
  [checkmark] Step 4: Update Colony State
  [checkmark] Step 5: Display Result
```

IMPORTANT: Preserve ALL existing content in each step. Add the visual elements AROUND the existing output templates, do not remove any existing instructions or output content.
  </action>
  <verify>
Read each modified file and confirm:
1. Box-drawing header template is present with correct command name
2. Step progress list is present with correct step names matching the command's actual steps
3. All original output content (session IDs, next steps suggestions, etc.) is preserved
4. No bash/jq/Python code was added
5. Each file is valid markdown
  </verify>
  <done>
init.md, build.md, and continue.md each contain a box-drawing header template and step progress indicator in their display steps, with all original content preserved.
  </done>
</task>

<task type="auto">
  <name>Task 2: Add box-drawing headers to status.md and phase.md</name>
  <files>
    .claude/commands/ant/status.md
    .claude/commands/ant/phase.md
  </files>
  <action>
**status.md** -- This is the primary visual command and gets the richest header. In Step 3 (Display Status), replace the plain "COLONY STATUS" header with a rich box-drawing header that includes dynamic values:

Replace the current output template opening with:

```
Output this header (filling in values from COLONY_STATE.json):

+=====================================================+
|  AETHER COLONY STATUS                                |
|-----------------------------------------------------|
|  Session: <session_id>                               |
|  State:   <state>                                    |
|  Goal:    "<goal>"                                   |
+=====================================================+
```

Then continue with the existing WORKERS, ACTIVE PHEROMONES, PHASE PROGRESS, and NEXT ACTIONS sections (these will be enhanced in Plan 14-02).

Add section dividers between the major sections:

```
Between each major section (WORKERS, ACTIVE PHEROMONES, PHASE PROGRESS, NEXT ACTIONS), output a divider:

---------------------------------------------------
```

**phase.md** -- Add box-drawing headers to both view modes.

In Step 3a (Single Phase View), add before the existing output:

```
Output this header:

+=====================================================+
|  AETHER COLONY :: PHASE <id>                         |
+=====================================================+
```

In Step 3b (List View), replace the plain "PROJECT PHASES" with:

```
Output this header:

+=====================================================+
|  AETHER COLONY :: ALL PHASES                         |
+=====================================================+
```

IMPORTANT: Preserve ALL existing content. The header is added BEFORE the existing output templates.
  </action>
  <verify>
Read each modified file and confirm:
1. status.md has rich header with session/state/goal placeholders
2. status.md has section dividers between major sections
3. phase.md has headers for both single-phase and list views
4. All original output content preserved
5. No bash/jq/Python code added
  </verify>
  <done>
status.md has a rich box-drawing header with session/state/goal and section dividers. phase.md has box-drawing headers for both single-phase and list views. All original content preserved.
  </done>
</task>

</tasks>

<verification>
After both tasks complete:
1. Read all 5 modified files and confirm box-drawing headers are present
2. Confirm init.md, build.md, continue.md have step progress indicators
3. Confirm status.md has the richest header (with session/state/goal) and section dividers
4. Confirm no original instructions or output content was removed from any file
5. Confirm no bash scripts, jq commands, or Python code was introduced
</verification>

<success_criteria>
- All 5 major commands (init, build, continue, status, phase) have box-drawing headers (VIS-01)
- All 3 multi-step commands (init, build, continue) have step progress indicators (VIS-02)
- status.md has the richest header with dynamic session/state/goal values
- phase.md has headers for both single-phase and list views
- All original command logic and output content preserved unchanged
</success_criteria>

<output>
After completion, create `.planning/phases/14-visual-identity/14-01-SUMMARY.md`
</output>
