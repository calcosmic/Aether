---
phase: 25-live-visibility
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - .aether/workers/builder-ant.md
  - .aether/workers/scout-ant.md
  - .aether/workers/colonizer-ant.md
  - .aether/workers/watcher-ant.md
  - .aether/workers/architect-ant.md
  - .aether/workers/route-setter-ant.md
autonomous: true

must_haves:
  truths:
    - "Every worker spec contains an Activity Log section with mandatory logging instructions"
    - "Workers are instructed to use aether-utils.sh activity-log subcommand, not direct file writes"
    - "Workers know which actions to log (CREATED, MODIFIED, RESEARCH, SPAWN, ERROR) and which the Queen handles (START, COMPLETE)"
    - "Activity log instructions are in the Post-Action Validation checklist"
  artifacts:
    - path: ".aether/workers/builder-ant.md"
      provides: "Activity log instructions for builder caste"
      contains: "Activity Log"
    - path: ".aether/workers/scout-ant.md"
      provides: "Activity log instructions for scout caste"
      contains: "Activity Log"
    - path: ".aether/workers/colonizer-ant.md"
      provides: "Activity log instructions for colonizer caste"
      contains: "Activity Log"
    - path: ".aether/workers/watcher-ant.md"
      provides: "Activity log instructions for watcher caste"
      contains: "Activity Log"
    - path: ".aether/workers/architect-ant.md"
      provides: "Activity log instructions for architect caste"
      contains: "Activity Log"
    - path: ".aether/workers/route-setter-ant.md"
      provides: "Activity log instructions for route-setter caste"
      contains: "Activity Log"
  key_links:
    - from: "all worker specs"
      to: "aether-utils.sh activity-log"
      via: "bash command in instructions"
      pattern: "aether-utils.sh activity-log"
---

<objective>
Add mandatory Activity Log instructions to all 6 worker spec files so workers write structured progress as they work.

Purpose: VIS-01 requires workers to write structured progress lines. Workers are prompt-driven agents -- they need explicit instructions in their spec files to write to the activity log. The instructions make clear which actions the worker logs (intermediate actions) vs which the Queen handles (START, COMPLETE boundaries).

Output: All 6 worker specs updated with an "Activity Log (Mandatory)" section and updated Post-Action Validation checklist.
</objective>

<execution_context>
@~/.claude/cosmic-dev-system/workflows/execute-plan.md
@~/.claude/cosmic-dev-system/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/25-live-visibility/25-RESEARCH.md
@.aether/workers/builder-ant.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add Activity Log section to all 6 worker specs</name>
  <files>
    .aether/workers/builder-ant.md
    .aether/workers/scout-ant.md
    .aether/workers/colonizer-ant.md
    .aether/workers/watcher-ant.md
    .aether/workers/architect-ant.md
    .aether/workers/route-setter-ant.md
  </files>
  <action>
For each of the 6 worker spec files, insert a new section titled "## Activity Log (Mandatory)" between the existing "## Workflow" section and the "## Post-Action Validation (Mandatory)" section. The section positions are:

| File | Insert after line | Before section |
|------|-------------------|----------------|
| builder-ant.md | after Workflow (ends ~line 183) | Post-Action Validation (line 185) |
| scout-ant.md | after Workflow (ends ~line 197) | Post-Action Validation (line 199) |
| colonizer-ant.md | after Workflow (ends ~line 183) | Post-Action Validation (line 185) |
| watcher-ant.md | after Workflow (ends ~line 333) | Post-Action Validation (line 335) |
| architect-ant.md | after Workflow (ends ~line 187) | Post-Action Validation (line 189) |
| route-setter-ant.md | after Workflow (ends ~line 184) | Post-Action Validation (line 186) |

The section content is IDENTICAL across all 6 files:

```markdown
## Activity Log (Mandatory)

Write progress to the activity log as you work. Use the Bash tool to run:

```
bash .aether/aether-utils.sh activity-log "ACTION" "{your-caste}-ant" "description"
```

**Actions to log (your responsibility):**
- CREATED: When creating a new file -- include path and line count
- MODIFIED: When modifying an existing file -- include path
- RESEARCH: When finding useful information -- include brief finding
- SPAWN: When spawning a sub-ant -- include target caste and reason
- ERROR: When encountering an error -- include brief description

**Actions the Queen handles (do NOT log these):**
- START: Queen logs this before spawning you
- COMPLETE: Queen logs this after you return

Log intermediate actions as you work. The Queen reads these after you return to show what you accomplished.

**Example:**
```
bash .aether/aether-utils.sh activity-log "CREATED" "builder-ant" "src/utils/auth.ts (45 lines)"
bash .aether/aether-utils.sh activity-log "MODIFIED" "builder-ant" "src/routes/index.ts"
bash .aether/aether-utils.sh activity-log "ERROR" "builder-ant" "type error in auth.ts -- fixed inline"
```
```

**IMPORTANT:** In each example block, replace `builder-ant` with the actual caste name for that file:
- builder-ant.md: use `builder-ant`
- scout-ant.md: use `scout-ant`
- colonizer-ant.md: use `colonizer-ant`
- watcher-ant.md: use `watcher-ant`
- architect-ant.md: use `architect-ant`
- route-setter-ant.md: use `route-setter-ant`

**Also update Post-Action Validation in each file.** Currently each file's Post-Action Validation has a checklist block like:
```
1. **State Validation:** ...
2. **Spawn Accounting:** ...
3. **Report Format:** ...
```

Add a new item 4:
```
4. **Activity Log:** Confirm you logged at least one action to the activity log. If you created or modified files, those should appear as CREATED/MODIFIED entries.
```

And update the Post-Action Validation display block. Currently:
```
-------------------------------
{emoji} Post-Action Validation
  [check] State: {pass|fail}
  [ant] Spawns: {N}/5 (depth {your_depth}/3)
  [clipboard] Format: {pass|fail}
-------------------------------
```

Add a line after Format:
```
  [scroll] Activity Log: {N} entries written
```

(Use the actual emoji characters that match the existing style in each file.)
  </action>
  <verify>
For each of the 6 worker spec files:

1. Confirm the "## Activity Log (Mandatory)" section exists:
   ```
   grep -c "Activity Log (Mandatory)" .aether/workers/*.md
   ```
   Should return 6 matches (one per file).

2. Confirm the caste name is correct in each file's examples:
   ```
   grep "activity-log.*builder-ant" .aether/workers/builder-ant.md
   grep "activity-log.*scout-ant" .aether/workers/scout-ant.md
   ```
   Each should match its own caste, not another.

3. Confirm Post-Action Validation updated:
   ```
   grep -c "Activity Log:" .aether/workers/*.md
   ```
   Should return 6 matches (one per file in the validation checklist).

4. Confirm section ordering: Activity Log comes AFTER Workflow and BEFORE Post-Action Validation in each file.
  </verify>
  <done>
All 6 worker specs contain an "Activity Log (Mandatory)" section with caste-specific examples, positioned between Workflow and Post-Action Validation. Post-Action Validation checklist includes activity log confirmation. Workers know to log CREATED, MODIFIED, RESEARCH, SPAWN, ERROR actions, and know that START/COMPLETE are Queen-handled.
  </done>
</task>

</tasks>

<verification>
- `grep -c "Activity Log (Mandatory)" .aether/workers/*.md` returns 6
- Each file has the correct caste name in its activity log examples
- Section order in every file: ... Workflow ... Activity Log (Mandatory) ... Post-Action Validation (Mandatory) ...
- Post-Action Validation checklist includes "Activity Log" check item in all 6 files
- No other sections displaced or broken
</verification>

<success_criteria>
All 6 worker specs instruct workers to write activity log entries via aether-utils.sh. Workers understand which actions they log vs which the Queen handles. Post-Action Validation includes activity log check.
</success_criteria>

<output>
After completion, create `.planning/phases/25-live-visibility/25-02-SUMMARY.md`
</output>
