---
phase: 17-integration-dashboard
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - .claude/commands/ant/status.md
autonomous: true

must_haves:
  truths:
    - "Running /ant:status displays a MEMORY section showing recent phase learnings from memory.json"
    - "Running /ant:status displays an EVENTS section showing recent events from events.json"
    - "status.md Step 1 reads all 6 JSON state files (COLONY_STATE, pheromones, PROJECT_PLAN, errors, memory, events)"
  artifacts:
    - path: ".claude/commands/ant/status.md"
      provides: "Full colony health dashboard with all 6 state file sections"
      contains: "memory.json"
    - path: ".claude/commands/ant/status.md"
      provides: "MEMORY section template"
      contains: "MEMORY"
    - path: ".claude/commands/ant/status.md"
      provides: "EVENTS section template"
      contains: "EVENTS"
  key_links:
    - from: ".claude/commands/ant/status.md"
      to: ".aether/data/memory.json"
      via: "Read tool in Step 1"
      pattern: "memory\\.json"
    - from: ".claude/commands/ant/status.md"
      to: ".aether/data/events.json"
      via: "Read tool in Step 1"
      pattern: "events\\.json"
---

<objective>
Expand status.md into a full colony health dashboard by adding MEMORY and EVENTS sections and reading all 6 JSON state files.

Purpose: Users see the complete colony state at a glance -- workers, pheromones, errors, memory, and events -- fulfilling DASH-01 and DASH-04. DASH-02 (pheromone decay bars) and DASH-03 (error section) are already satisfied by the current status.md.
Output: Updated `.claude/commands/ant/status.md` with MEMORY and EVENTS sections.
</objective>

<execution_context>
@~/.claude/cosmic-dev-system/workflows/execute-plan.md
@~/.claude/cosmic-dev-system/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/17-integration-dashboard/17-RESEARCH.md
@.claude/commands/ant/status.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add memory.json and events.json to Step 1 read list</name>
  <files>.claude/commands/ant/status.md</files>
  <action>
Read `.claude/commands/ant/status.md`. In Step 1 ("Read State"), add two more files to the parallel read list:
- `.aether/data/memory.json`
- `.aether/data/events.json`

The Step 1 bullet list currently reads 4 files (COLONY_STATE.json, pheromones.json, PROJECT_PLAN.json, errors.json). Add the two new files to make it 6 total.

Also update the description line that references reading files ("Use the Read tool to read these files (in parallel):") -- no text change needed, just ensure the two new files are in the bullet list.
  </action>
  <verify>Read status.md and confirm Step 1 lists all 6 files: COLONY_STATE.json, pheromones.json, PROJECT_PLAN.json, errors.json, memory.json, events.json.</verify>
  <done>Step 1 reads all 6 JSON state files in parallel.</done>
</task>

<task type="auto">
  <name>Task 2: Add MEMORY and EVENTS sections to Step 3 display</name>
  <files>.claude/commands/ant/status.md</files>
  <action>
In `.claude/commands/ant/status.md` Step 3 ("Display Status"), add two new sections AFTER the ERRORS section and BEFORE the PHASE PROGRESS section.

**MEMORY section** (insert after the ERRORS section divider, before PHASE PROGRESS):

Add a divider, then:

```
MEMORY
```

If `memory.json` was read successfully and has content:

Display recent phase learnings (last 3 from `phase_learnings` array, newest first):
```
  Recent Learnings:
    Phase <phase>: <first learning from learnings array>
    Phase <phase>: <first learning from learnings array>
    Phase <phase>: <first learning from learnings array>
```

Display decision count:
```
  Decisions logged: <count of decisions array>
```

If `phase_learnings` array is empty and `decisions` array is empty:
```
  (no memory recorded)
```

If `memory.json` doesn't exist or couldn't be read, skip this section silently.

**EVENTS section** (insert after MEMORY section, before PHASE PROGRESS):

Add a divider, then:

```
EVENTS
```

If `events.json` was read successfully and has content:

Display recent events (last 5 from `events` array, newest first):
```
  Recent:
    [<type>] <content> (<relative time, e.g., "2m ago", "1h ago">)
```

If `events` array is empty:
```
  (no events recorded)
```

If `events.json` doesn't exist or couldn't be read, skip this section silently.

**Also update the divider comment** between sections to include MEMORY and EVENTS in the list:
Change "Between each major section (WORKERS, ACTIVE PHEROMONES, PHASE PROGRESS, NEXT ACTIONS)" to "Between each major section (WORKERS, ACTIVE PHEROMONES, ERRORS, MEMORY, EVENTS, PHASE PROGRESS, NEXT ACTIONS)".

Keep the same box-drawing and formatting patterns already established. Do NOT change any existing sections (WORKERS, ACTIVE PHEROMONES, ERRORS, PHASE PROGRESS, NEXT ACTIONS).
  </action>
  <verify>Read status.md. Confirm MEMORY section exists between ERRORS and PHASE PROGRESS. Confirm EVENTS section exists between MEMORY and PHASE PROGRESS. Confirm section divider list is updated. Confirm existing sections are unchanged.</verify>
  <done>status.md displays MEMORY section with last 3 learnings and decision count, and EVENTS section with last 5 events with relative timestamps. Both sections handle empty/missing gracefully.</done>
</task>

</tasks>

<verification>
1. Read `.claude/commands/ant/status.md` and verify it contains all 6 state file references in Step 1
2. Verify MEMORY section template is present with phase_learnings display and decision count
3. Verify EVENTS section template is present with recent events and relative time formatting
4. Verify section order is: WORKERS -> ACTIVE PHEROMONES -> ERRORS -> MEMORY -> EVENTS -> PHASE PROGRESS -> NEXT ACTIONS
5. Verify all existing sections remain unchanged
6. File should be approximately 230-250 lines (was 182, adding ~50-70 lines for 2 new sections)
</verification>

<success_criteria>
- status.md Step 1 reads all 6 JSON state files
- MEMORY section displays last 3 phase learnings and decision count from memory.json
- EVENTS section displays last 5 events with relative timestamps from events.json
- Both new sections handle empty arrays and missing files gracefully (skip silently)
- Existing sections (WORKERS, ACTIVE PHEROMONES, ERRORS, PHASE PROGRESS, NEXT ACTIONS) are unchanged
- Requirements DASH-01 and DASH-04 are satisfied
</success_criteria>

<output>
After completion, create `.planning/phases/17-integration-dashboard/17-01-SUMMARY.md`
</output>
