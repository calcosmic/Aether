---
phase: 16-worker-knowledge
plan: 02
type: execute
wave: 2
depends_on: ["16-01"]
files_modified:
  - .aether/workers/watcher-ant.md
  - .aether/workers/builder-ant.md
  - .aether/workers/scout-ant.md
  - .aether/workers/architect-ant.md
  - .aether/workers/colonizer-ant.md
  - .aether/workers/route-setter-ant.md
autonomous: true

must_haves:
  truths:
    - "Every worker spec includes a worked pheromone math example with numeric values showing sensitivity * strength = effective signal"
    - "Every worker spec includes a combination effects section describing behavior when conflicting signals are active"
    - "Every worker spec includes a feedback interpretation guide mapping feedback keywords to behavioral adjustments"
  artifacts:
    - path: ".aether/workers/builder-ant.md"
      provides: "Pheromone math, combination effects, feedback interpretation"
      contains: "## Pheromone Math"
    - path: ".aether/workers/scout-ant.md"
      provides: "Pheromone math, combination effects, feedback interpretation"
      contains: "## Pheromone Math"
    - path: ".aether/workers/architect-ant.md"
      provides: "Pheromone math, combination effects, feedback interpretation"
      contains: "## Pheromone Math"
    - path: ".aether/workers/colonizer-ant.md"
      provides: "Pheromone math, combination effects, feedback interpretation"
      contains: "## Pheromone Math"
    - path: ".aether/workers/route-setter-ant.md"
      provides: "Pheromone math, combination effects, feedback interpretation"
      contains: "## Pheromone Math"
    - path: ".aether/workers/watcher-ant.md"
      provides: "Pheromone math, combination effects, feedback interpretation"
      contains: "## Pheromone Math"
  key_links:
    - from: "all worker specs"
      to: "pheromone sensitivity tables"
      via: "math examples use actual sensitivity values from each spec's own table"
      pattern: "sensitivity.*strength.*effective"
    - from: "all worker specs"
      to: "behavioral response"
      via: "effective signal compared against threshold"
      pattern: ">0\\.5.*prioritize|0\\.3.*note|<0\\.3.*ignore"
---

<objective>
Add pheromone math examples, combination effects sections, and feedback interpretation guides to all 6 worker specs.

Purpose: Workers currently list pheromone sensitivity values but don't explain HOW to use them. This plan adds the computational knowledge -- how to multiply sensitivity by signal strength, interpret the result using thresholds, handle conflicting signals, and respond to feedback keywords -- so workers can make autonomous pheromone-informed decisions.

Output: All 6 worker specs gain 3 new sections (~40-50 lines each), bringing each spec from ~100 lines toward ~150-160 lines.
</objective>

<execution_context>
@~/.claude/cosmic-dev-system/workflows/execute-plan.md
@~/.claude/cosmic-dev-system/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.aether/workers/watcher-ant.md
@.aether/workers/builder-ant.md
@.aether/workers/scout-ant.md
@.aether/workers/architect-ant.md
@.aether/workers/colonizer-ant.md
@.aether/workers/route-setter-ant.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add pheromone math and combination effects to builder, scout, and colonizer specs</name>
  <files>.aether/workers/builder-ant.md, .aether/workers/scout-ant.md, .aether/workers/colonizer-ant.md</files>
  <action>
For each of the 3 worker specs, add the following 3 new sections AFTER the existing Pheromone Sensitivity table and BEFORE the Workflow section.

### Section 1: "## Pheromone Math"

Add a worked example using THAT CASTE'S actual sensitivity values. The formula is:

  effective_signal = sensitivity * signal_strength

Where signal_strength comes from the pheromone's current decay value (0.0 to 1.0).

Threshold interpretation:
- effective > 0.5: PRIORITIZE — this signal demands action, adjust behavior accordingly
- effective 0.3-0.5: NOTE — be aware, factor into decisions but don't restructure work
- effective < 0.3: IGNORE — signal too weak to act on

**Builder example** (use builder's actual values: FOCUS=0.9, REDIRECT=0.9):
```
Example: FOCUS signal at strength 0.8, REDIRECT signal at strength 0.4

FOCUS:    sensitivity(0.9) * strength(0.8) = 0.72  -> PRIORITIZE
REDIRECT: sensitivity(0.9) * strength(0.4) = 0.36  -> NOTE

Action: Strongly prioritize focused area. Note the redirect but don't
fully avoid — the signal is fading. Check if redirected pattern overlaps
with focus area before proceeding.
```

**Scout example** (use scout's actual values: FOCUS=0.9, INIT=0.7):
```
Example: INIT signal at strength 0.9, FOCUS signal at strength 0.6

INIT:  sensitivity(0.7) * strength(0.9) = 0.63  -> PRIORITIZE
FOCUS: sensitivity(0.9) * strength(0.6) = 0.54  -> PRIORITIZE

Action: Both signals demand action. Mobilize to learn the new domain
(INIT) but direct research toward the focused topic (FOCUS). The FOCUS
signal refines the broad INIT activation.
```

**Colonizer example** (use colonizer's actual values: INIT=1.0, FOCUS=0.7):
```
Example: INIT signal at strength 1.0, FOCUS signal at strength 0.5

INIT:  sensitivity(1.0) * strength(1.0) = 1.00  -> PRIORITIZE
FOCUS: sensitivity(0.7) * strength(0.5) = 0.35  -> NOTE

Action: Full exploration mode activated by INIT. The FOCUS signal is
weak — note the focused area but don't limit exploration to it. Cast
a wide net first, then report focused area findings prominently.
```

### Section 2: "## Combination Effects"

Describe what happens when multiple signals are active simultaneously. Each caste gets a unique combination table based on their role. Use this format:

**Builder combination table:**
| Active Signals | Behavior |
|----------------|----------|
| FOCUS + REDIRECT | Check if focus and redirect conflict. If FOCUS target IS the redirected pattern, STOP and report the conflict to parent. If different areas, prioritize FOCUS while avoiding REDIRECT patterns. |
| FOCUS + FEEDBACK | Implement focused area with adjustments from feedback. If feedback says "quality", add extra validation. If "speed", streamline approach. |
| REDIRECT + FEEDBACK | Avoid redirected patterns. Use feedback to guide alternative approach. |
| FOCUS + REDIRECT + FEEDBACK | Complex signal environment. Prioritize FOCUS, avoid REDIRECT, apply FEEDBACK adjustments. If signals conflict, report to parent before proceeding. |

**Scout combination table:**
| Active Signals | Behavior |
|----------------|----------|
| INIT + FOCUS | Broad domain learning narrowed to focused topic. Research focused area first, then expand to general domain knowledge. |
| FOCUS + REDIRECT | Research focused topic but avoid redirected sources or approaches. Find alternative paths to the answer. |
| INIT + FEEDBACK | Learning new domain with feedback adjustments. If feedback says "wrong direction", pivot research approach. |
| FOCUS + REDIRECT + FEEDBACK | Research focused topic, avoid redirected approaches, apply feedback guidance. Prioritize by effective signal strength. |

**Colonizer combination table:**
| Active Signals | Behavior |
|----------------|----------|
| INIT + FOCUS | Full exploration with attention to focused area. Map everything but report focused area findings first. |
| INIT + REDIRECT | Explore broadly but skip/deprioritize redirected areas. Note what was skipped in report. |
| FOCUS + FEEDBACK | Explore focused area with feedback adjustments. If "missed areas" feedback, widen scope within focus. |
| INIT + FOCUS + REDIRECT | Explore broadly, prioritize focus area, skip redirected areas. Report coverage gaps from redirected zones. |

### Section 3: "## Feedback Interpretation"

For builder, expand the existing "Feedback Response" section into a deeper guide with keyword mapping. For scout and colonizer, add a new section. Each caste interprets feedback differently based on their role.

**Builder feedback interpretation:**
| Feedback Keywords | Category | Response |
|-------------------|----------|----------|
| "bug", "broken", "failing", "error" | Quality | Add defensive checks, input validation, error handling. Run tests before reporting. |
| "slow", "timeout", "performance" | Speed | Profile before optimizing. Look for O(n^2), unnecessary I/O, missing caching. |
| "wrong", "not what I wanted", "different" | Direction | STOP current approach. Re-read the task requirements. Ask for clarification if ambiguous. |
| "good", "keep going", "more of this" | Positive | Continue current approach. Apply same patterns to remaining work. |
| "convention", "style", "pattern" | Standards | Review project conventions. Match existing code patterns. Check linter config. |

Note: For builder, REPLACE the existing "## Feedback Response" section with this expanded version.

**Scout feedback interpretation:**
| Feedback Keywords | Category | Response |
|-------------------|----------|----------|
| "wrong source", "outdated", "unreliable" | Source quality | Switch to official docs, verified sources. Cross-reference findings. |
| "too shallow", "need more detail" | Depth | Dive deeper. Read source code, not just docs. Find implementation examples. |
| "too broad", "focus", "specific" | Scope | Narrow research to specific question. Provide targeted answers, not surveys. |
| "good find", "useful", "helpful" | Positive | Continue current research strategy. Apply same approach to next question. |
| "already known", "obvious" | Redundancy | Skip background. Focus on non-obvious findings, gotchas, and edge cases. |

**Colonizer feedback interpretation:**
| Feedback Keywords | Category | Response |
|-------------------|----------|----------|
| "missed", "incomplete", "gaps" | Coverage | Re-explore with broader scope. Check hidden directories, config files, build artifacts. |
| "wrong structure", "inaccurate" | Accuracy | Re-read files instead of inferring. Verify imports and call chains directly. |
| "too detailed", "high level" | Granularity | Summarize at module/directory level instead of file-by-file. |
| "good map", "clear", "useful" | Positive | Continue current mapping strategy. Apply same depth to remaining areas. |
| "dependencies", "connections" | Relationships | Focus on import graphs, data flow, and cross-module dependencies. |
  </action>
  <verify>
1. Read each of the 3 files (builder-ant.md, scout-ant.md, colonizer-ant.md)
2. Grep for "## Pheromone Math" -- must appear in all 3
3. Grep for "## Combination Effects" -- must appear in all 3
4. Grep for "## Feedback Interpretation" -- must appear in all 3 (builder replaces old "Feedback Response")
5. Verify each pheromone math example uses that caste's actual sensitivity values from its table
6. Verify threshold rules (>0.5 prioritize, 0.3-0.5 note, <0.3 ignore) appear in each
7. Confirm spawning sections still intact at end of each file
  </verify>
  <done>
builder-ant.md, scout-ant.md, and colonizer-ant.md each contain: (1) a worked pheromone math example with their own sensitivity values, threshold interpretation, and an action recommendation, (2) a combination effects table showing behavior for 4 multi-signal scenarios, (3) a feedback interpretation guide with keyword-to-behavior mapping. Builder's old "Feedback Response" section is replaced with the expanded version.
  </done>
</task>

<task type="auto">
  <name>Task 2: Add pheromone math and combination effects to watcher, architect, and route-setter specs</name>
  <files>.aether/workers/watcher-ant.md, .aether/workers/architect-ant.md, .aether/workers/route-setter-ant.md</files>
  <action>
For each of the 3 remaining worker specs, add the same 3 sections (Pheromone Math, Combination Effects, Feedback Interpretation) using the same structure as Task 1 but with caste-specific content.

For watcher-ant.md: Insert the 3 sections AFTER the Pheromone Sensitivity table and BEFORE the Workflow section. Do NOT modify the Specialist Modes section added by plan 16-01.

### Watcher (sensitivity: INIT=0.3, FOCUS=0.8, REDIRECT=0.5, FEEDBACK=0.9)

**Pheromone Math example:**
```
Example: FEEDBACK signal at strength 0.7, FOCUS signal at strength 0.5

FEEDBACK: sensitivity(0.9) * strength(0.7) = 0.63  -> PRIORITIZE
FOCUS:    sensitivity(0.8) * strength(0.5) = 0.40  -> NOTE

Action: Quality feedback demands intensified validation. The FOCUS
signal is moderate — note the focused area but let feedback guide
which specialist mode to activate. If feedback mentions "security",
activate Security mode even if focus area is different.
```

**Combination table:**
| Active Signals | Behavior |
|----------------|----------|
| FOCUS + FEEDBACK | Activate specialist mode matching feedback keywords. Apply extra scrutiny to focused area. Run targeted checks. |
| FOCUS + REDIRECT | Validate focused area. Check that redirected patterns are NOT present in implementation. Flag if found. |
| FEEDBACK + REDIRECT | Intensify validation per feedback. Verify redirected patterns were avoided in implementation. |
| FOCUS + FEEDBACK + REDIRECT | Full validation mode. Activate specialist mode from feedback, focus on specified area, verify redirected patterns absent. |

**Feedback interpretation:**
| Feedback Keywords | Category | Response |
|-------------------|----------|----------|
| "security", "auth", "vulnerability" | Security mode | Activate Security specialist mode. Full security checklist. |
| "slow", "performance", "memory" | Performance mode | Activate Performance specialist mode. Profile and measure. |
| "quality", "readability", "convention" | Quality mode | Activate Quality specialist mode. Convention and clarity review. |
| "test", "coverage", "regression" | Test coverage mode | Activate Test Coverage specialist mode. Gap analysis. |
| "good", "approved", "ship it" | Positive | Current quality meets bar. Report approval with confidence score. |

### Architect (sensitivity: INIT=0.2, FOCUS=0.4, REDIRECT=0.3, FEEDBACK=0.6)

**Pheromone Math example:**
```
Example: FEEDBACK signal at strength 0.8, FOCUS signal at strength 0.9

FEEDBACK: sensitivity(0.6) * strength(0.8) = 0.48  -> NOTE
FOCUS:    sensitivity(0.4) * strength(0.9) = 0.36  -> NOTE

Action: Both signals are in the NOTE range — architect is relatively
insensitive to most signals (low sensitivity values). Factor both into
synthesis work but don't restructure priorities. Architect operates
steadily, synthesizing knowledge regardless of signal urgency.
```

**Combination table:**
| Active Signals | Behavior |
|----------------|----------|
| FOCUS + FEEDBACK | Synthesize knowledge about focused area. Weight feedback to refine pattern extraction. |
| INIT + FOCUS | New domain synthesis. Organize knowledge about focused area within broader domain context. |
| FEEDBACK + REDIRECT | Record feedback as pattern data. Note redirected approaches as failure patterns to document. |
| INIT + FEEDBACK + REDIRECT | Synthesize new domain knowledge, incorporate feedback, document redirected approaches as anti-patterns. |

**Feedback interpretation:**
| Feedback Keywords | Category | Response |
|-------------------|----------|----------|
| "pattern", "recurring", "again" | Pattern extraction | Identify and document the recurring pattern with confidence score. |
| "wrong conclusion", "inaccurate" | Correction | Revisit source data. Lower confidence on affected patterns. Re-synthesize. |
| "good insight", "useful pattern" | Validation | Increase confidence on validated pattern. Propagate to related patterns. |
| "too abstract", "actionable" | Granularity | Add concrete examples to patterns. Link to specific files and code. |
| "missing context", "incomplete" | Coverage | Expand analysis scope. Check for patterns not yet identified. |

### Route-setter (sensitivity: INIT=1.0, FOCUS=0.5, REDIRECT=0.8, FEEDBACK=0.7)

**Pheromone Math example:**
```
Example: INIT signal at strength 0.6, REDIRECT signal at strength 0.7

INIT:     sensitivity(1.0) * strength(0.6) = 0.60  -> PRIORITIZE
REDIRECT: sensitivity(0.8) * strength(0.7) = 0.56  -> PRIORITIZE

Action: Both signals demand action. Plan the new goal (INIT) but
actively avoid the redirected approach when structuring phases. The
redirect signal is almost as strong as the init — the previous
approach failed and the new plan must take a different path.
```

**Combination table:**
| Active Signals | Behavior |
|----------------|----------|
| INIT + FOCUS | Plan new goal with focus area as priority. Structure phases so focused area is addressed in Wave 1. |
| INIT + REDIRECT | Plan new goal avoiding redirected approaches. Document why the redirect occurred and plan around it. |
| FOCUS + FEEDBACK | Adjust existing plan granularity based on feedback. If "too coarse", break phases down further. If "too fine", consolidate. |
| INIT + REDIRECT + FEEDBACK | Plan new goal, avoid redirected approaches, apply feedback to planning style (granularity, caste assignment, phase ordering). |

**Feedback interpretation:**
| Feedback Keywords | Category | Response |
|-------------------|----------|----------|
| "too coarse", "vague", "unclear" | Granularity | Break tasks down further. Each task should have one clear outcome. |
| "too many phases", "over-planned" | Simplification | Consolidate phases. Reduce serial dependencies. |
| "wrong order", "dependency issue" | Sequencing | Re-analyze dependencies. Reorder phases to resolve blockers. |
| "good plan", "clear", "actionable" | Positive | Continue current planning approach. Apply same granularity. |
| "wrong caste", "misassigned" | Assignment | Review caste assignment guide. Match task keywords to correct caste. |

Include the threshold rules in each pheromone math section:
- effective > 0.5: PRIORITIZE -- this signal demands action
- effective 0.3-0.5: NOTE -- factor into decisions
- effective < 0.3: IGNORE -- signal too weak to act on
  </action>
  <verify>
1. Read each of the 3 files (watcher-ant.md, architect-ant.md, route-setter-ant.md)
2. Grep for "## Pheromone Math" -- must appear in all 3
3. Grep for "## Combination Effects" -- must appear in all 3
4. Grep for "## Feedback Interpretation" -- must appear in all 3
5. Verify pheromone math examples use each caste's actual sensitivity values
6. Verify watcher-ant.md still has "## Specialist Modes" section from plan 16-01
7. Confirm spawning sections still intact at end of each file
8. Grep across ALL 6 worker specs for "## Pheromone Math" -- must return 6 matches
  </verify>
  <done>
All 6 worker specs now contain: (1) a worked pheromone math example with caste-specific sensitivity values and threshold interpretation, (2) a combination effects table for multi-signal scenarios, (3) a feedback interpretation guide with keyword-to-behavior mapping. Watcher specialist modes from plan 16-01 remain intact.
  </done>
</task>

</tasks>

<verification>
- All 6 worker specs contain "## Pheromone Math" section
- All 6 worker specs contain "## Combination Effects" section
- All 6 worker specs contain "## Feedback Interpretation" section
- Each pheromone math example uses that caste's actual sensitivity values from its own table
- Each example shows the multiplication: sensitivity(X) * strength(Y) = Z
- Each example applies threshold rules: >0.5 PRIORITIZE, 0.3-0.5 NOTE, <0.3 IGNORE
- Combination effects describe 4 multi-signal scenarios per caste
- Feedback interpretation maps 5 keyword categories to behavioral responses per caste
- All spawning sections remain intact
- Watcher specialist modes from 16-01 remain intact
</verification>

<success_criteria>
- SPEC-01: Every worker spec includes a worked pheromone math example with numeric values
- SPEC-02: Every worker spec includes a combination effects section for conflicting signals
- SPEC-03: Every worker spec includes a feedback interpretation guide
</success_criteria>

<output>
After completion, create `.planning/phases/16-worker-knowledge/16-02-SUMMARY.md`
</output>
