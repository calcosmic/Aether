---
phase: 35-worker-simplification
plan: 02
type: execute
wave: 2
depends_on: ["35-01"]
files_modified:
  - .claude/commands/ant/build.md
  - .claude/commands/ant/plan.md
  - .claude/commands/ant/organize.md
  - .claude/commands/ant/colonize.md
autonomous: true

must_haves:
  truths:
    - "Commands read worker specs from workers.md instead of individual files"
    - "Old worker files are deleted"
    - "Sensitivity matrix removed from build.md"
    - "Commands still function correctly"
  artifacts:
    - path: ".claude/commands/ant/build.md"
      provides: "Updated worker spec reading"
      contains: "workers.md"
    - path: ".claude/commands/ant/plan.md"
      provides: "Updated worker list reference"
      contains: "workers.md"
  key_links:
    - from: ".claude/commands/ant/build.md"
      to: ".aether/workers.md"
      via: "Read tool in Step 5c"
      pattern: "workers\\.md"
---

<objective>
Update command files to use consolidated workers.md and delete old worker files.

Purpose: Complete the worker simplification by integrating the new file and removing old ones
Output: Commands reference new path, old files deleted, sensitivity matrix removed
</objective>

<execution_context>
@~/.claude/cosmic-dev-system/workflows/execute-plan.md
@~/.claude/cosmic-dev-system/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/35-worker-simplification/35-01-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update command files to use workers.md</name>
  <files>
    .claude/commands/ant/build.md
    .claude/commands/ant/plan.md
    .claude/commands/ant/organize.md
    .claude/commands/ant/colonize.md
  </files>
  <action>
Update each command file:

**build.md:**
1. Step 4 (Compute Active Pheromones): REMOVE the per-caste sensitivity table entirely:
   ```
   DELETE this block (lines ~143-153):
                   INIT  FOCUS  REDIRECT  FEEDBACK
     colonizer     1.0   0.7    0.3       0.5
     ...
   ```
   And REMOVE the "effective_signal = caste_sensitivity x current_strength" computation.
   Pheromones become simple keyword matching per SIMP-03.

2. Step 5c.c: Change from:
   `Read ~/.aether/workers/{caste}-ant.md`
   To:
   `Read ~/.aether/workers.md and extract the ## {Caste} section`

3. Step 6 (Watcher Verification): Change from:
   `Read ~/.aether/workers/watcher-ant.md`
   To:
   `Read ~/.aether/workers.md and extract the ## Watcher section`

**plan.md:**
Replace the worker path list (~lines 110-115):
```
  ~/.aether/workers/colonizer-ant.md  -- Explore/index codebase
  ...
```
With:
```
  See ~/.aether/workers.md for role definitions:
  - colonizer: Explore/index codebase
  - route-setter: Plan and break down work
  - builder: Implement code, run commands
  - watcher: Validate, test, quality check
  - scout: Research, find information
  - architect: Synthesize knowledge, extract patterns
```

**organize.md:**
Line 51: Change from:
`Read ~/.aether/workers/architect-ant.md`
To:
`Read ~/.aether/workers.md and extract the ## Architect section`

Also remove line 57's full file embedding instruction. Replace with:
`Extract and use the Architect section from workers.md`

**colonize.md:**
Two locations (~118-123 and ~316-321): Replace worker path lists with:
```
  See ~/.aether/workers.md for role definitions
```
  </action>
  <verify>
grep -r "workers/.*-ant\.md" .claude/commands/ant/

Should return NO matches after changes (all references updated)
  </verify>
  <done>All 4 command files updated to use workers.md path</done>
</task>

<task type="auto">
  <name>Task 2: Delete old worker files</name>
  <files>
    .aether/workers/architect-ant.md
    .aether/workers/builder-ant.md
    .aether/workers/colonizer-ant.md
    .aether/workers/route-setter-ant.md
    .aether/workers/scout-ant.md
    .aether/workers/watcher-ant.md
  </files>
  <action>
Delete all 6 old worker files:
```bash
rm .aether/workers/architect-ant.md
rm .aether/workers/builder-ant.md
rm .aether/workers/colonizer-ant.md
rm .aether/workers/route-setter-ant.md
rm .aether/workers/scout-ant.md
rm .aether/workers/watcher-ant.md
```

After deletion, the .aether/workers/ directory should be empty or not exist.
If directory is empty, remove it: `rmdir .aether/workers`
  </action>
  <verify>
ls .aether/workers/ 2>/dev/null

Should fail (directory doesn't exist) or be empty
  </verify>
  <done>Old worker files deleted (1,866 lines removed)</done>
</task>

<task type="auto">
  <name>Task 3: Verify integration</name>
  <files>None (verification only)</files>
  <action>
Verify the consolidation is complete:

1. Count total worker spec lines:
   ```bash
   wc -l .aether/workers.md
   ```
   Target: ~200 lines (was 1,866)

2. Verify commands reference new path:
   ```bash
   grep -l "workers\.md" .claude/commands/ant/*.md
   ```
   Should list: build.md, plan.md, organize.md, colonize.md

3. Verify no old references remain:
   ```bash
   grep -r "workers/.*-ant\.md" .claude/commands/ant/
   ```
   Should return nothing

4. Verify workers.md has all roles:
   ```bash
   grep "^## " .aether/workers.md
   ```
   Should show: All Workers, Builder, Watcher, Scout, Colonizer, Architect, Route-Setter

5. Verify no pheromone math in workers.md:
   ```bash
   grep -i "pheromone" .aether/workers.md
   ```
   Should return nothing or minimal mention (no math instructions)
  </action>
  <verify>All 5 checks pass</verify>
  <done>Worker simplification complete - 1,866 lines reduced to ~200</done>
</task>

</tasks>

<verification>
- [ ] No commands reference old worker paths (grep returns nothing)
- [ ] All 4 commands reference workers.md
- [ ] Old worker files deleted (6 files, 1,866 lines)
- [ ] workers/ directory removed
- [ ] Sensitivity matrix removed from build.md Step 4
- [ ] Total worker spec lines ~200 (verified by wc -l)
</verification>

<success_criteria>
- Commands read from consolidated workers.md
- Old files deleted
- Sensitivity matrix removed from build.md
- Line reduction: 1,866 -> ~200 (89% reduction)
- Phase 35 success criteria met: SIMP-04 complete
</success_criteria>

<output>
After completion, create `.planning/phases/35-worker-simplification/35-02-SUMMARY.md`
</output>
