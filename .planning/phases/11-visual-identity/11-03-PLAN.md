---
phase: 11-visual-identity
plan: 03
type: execute
wave: 3
depends_on:
  - "11-01"
  - "11-02"
files_modified:
  - .claude/commands/ant/build.md
  - .claude/commands/ant/continue.md
  - .claude/commands/ant/init.md
  - .claude/commands/ant/seal.md
  - .claude/commands/ant/entomb.md
  - .aether/aether-utils.sh
autonomous: true
requirements:
  - VIS-04
  - VIS-02
  - VIS-01

must_haves:
  truths:
    - "All high-visibility commands use the same banner format (â”â”â”â” heavy horizontal)"
    - "Every command completion shows a Next Up block with copy-paste-ready commands"
    - "Worker names display with caste emoji prefix (e.g., 'ğŸ”¨ Hammer-42')"
  artifacts:
    - path: ".claude/commands/ant/build.md"
      provides: "Standardized build command"
      contains: "â”â”â”â”"
    - path: ".claude/commands/ant/continue.md"
      provides: "Standardized continue command"
      contains: "Next Up"
    - path: ".aether/aether-utils.sh"
      provides: "Banner and Next Up helper functions"
      contains: "print-standard-banner"
  key_links:
    - from: "all commands"
      to: "aether-utils.sh helpers"
      via: "bash calls"
      pattern: "print-standard-banner|print-next-up"
---

<objective>
Standardize banners across the 6 high-visibility commands (build, continue, init, seal, entomb, status), add Next Up blocks to command completions, and ensure caste emoji display format is consistent.

Purpose: Create a unified visual language so users recognize Aether output instantly and always know what to do next.
Output: 6 updated command files with standardized banners and Next Up blocks.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/11-visual-identity/11-CONTEXT.md
@.planning/phases/11-visual-identity/11-RESEARCH.md
@.claude/commands/ant/build.md
@.claude/commands/ant/continue.md
@.claude/commands/ant/init.md
@.claude/commands/ant/seal.md
@.claude/commands/ant/entomb.md
@.aether/aether-utils.sh
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add banner and Next Up helper functions to aether-utils.sh</name>
  <files>.aether/aether-utils.sh</files>
  <action>
Add two helper functions to `.aether/aether-utils.sh` for standardized output formatting.

Add after the `generate-progress-bar` function (around line 150):

```bash
# --- Standard banner helper ---
# Usage: print-standard-banner <title>
# Outputs a standardized banner with heavy horizontal lines (U+2501)
print-standard-banner() {
  local title="$1"
  local width=50

  # Convert title to spaced uppercase
  local spaced_title
  spaced_title=$(echo "$title" | tr '[:lower:]' '[:upper:]' | sed 's/./& /g' | sed 's/ $//')

  echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
  echo "   $spaced_title"
  echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
}

# --- Next Up block helper ---
# Usage: print-next-up <state> [current_phase] [total_phases]
# Outputs a Next Up block with state-based suggestions
print-next-up() {
  local state="${1:-IDLE}"
  local current_phase="${2:-0}"
  local total_phases="${3:-0}"
  local next_phase=$((current_phase + 1))

  echo "â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
  echo "ğŸœ Next Up"
  echo "â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"

  case "$state" in
    IDLE)
      echo "   /ant:init               ğŸŒ± Start a new colony"
      echo "   /ant:status             ğŸ“Š Check current state"
      ;;
    READY)
      echo "   /ant:build $next_phase            ğŸ”¨ Build phase $next_phase"
      echo "   /ant:phase $next_phase            ğŸ“‹ Review phase details"
      echo "   /ant:focus              ğŸ¯ Guide colony attention"
      ;;
    EXECUTING)
      echo "   /ant:continue           â¡ï¸  Continue current build"
      echo "   /ant:status             ğŸ“Š Check build progress"
      ;;
    PLANNING)
      echo "   /ant:plan               ğŸ“ Create execution plan"
      echo "   /ant:status             ğŸ“Š Check current state"
      ;;
    *)
      echo "   /ant:status             ğŸ“Š Check colony state"
      ;;
  esac
}
```

Also add case handlers for CLI access in the main `case "$cmd"` block:
```bash
  print-standard-banner)
    shift
    print-standard-banner "$@"
    ;;
  print-next-up)
    shift
    print-next-up "$@"
    ;;
```
  </action>
  <verify>
    # Verify functions exist and work
    grep -q "print-standard-banner()" .aether/aether-utils.sh && \
    grep -q "print-next-up()" .aether/aether-utils.sh && \
    bash .aether/aether-utils.sh print-standard-banner "TEST" | grep -q "â”â”â”â”" && \
    bash .aether/aether-utils.sh print-next-up "READY" 2 5 | grep -q "Next Up" && \
    echo "PASS: Helper functions added and working"
  </verify>
  <done>Both helper functions exist and produce correct output format</done>
</task>

<task type="auto">
  <name>Task 2: Standardize banners in build.md and continue.md</name>
  <files>.claude/commands/ant/build.md, .claude/commands/ant/continue.md</files>
  <action>
Update the banner formats in `build.md` and `continue.md` to use the standard format.

**In build.md:**

Find the existing banner (around line 178-181):
```
ğŸ”¨ğŸœğŸ—ï¸ğŸœğŸ”¨ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   B U I L D I N G   P H A S E   {id}
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• ğŸ”¨ğŸœğŸ—ï¸ğŸœğŸ”¨
```

Replace with:
```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
   B U I L D I N G   P H A S E   {id}
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
```

Also find the completion banner (around line 969-971):
```
ğŸ”¨ğŸœğŸ—ï¸ğŸœğŸ”¨ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   P H A S E   {id}   C O M P L E T E
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• ğŸ”¨ğŸœğŸ—ï¸ğŸœğŸ”¨
```

Replace with:
```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
   P H A S E   {id}   C O M P L E T E
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
```

**In continue.md:**

Find any banner formats using `â•â•â•` or similar and replace with the standard `â”â”â”â”` format.

For any section dividers using `â”€â”€â”€â”€` or `---`, ensure they use the single horizontal `â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€` (50 chars) for consistency.

Add a Next Up block at the end of continue.md output section if not present. Use the format:
```
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸœ Next Up
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   /ant:build {next_phase}     ğŸ”¨ Build next phase
   /ant:status                 ğŸ“Š Check progress
```
  </action>
  <verify>
    # Verify standardized banners in both files
    grep -q "â”â”â”â”" .claude/commands/ant/build.md && \
    grep -q "â”â”â”â”" .claude/commands/ant/continue.md && \
    ! grep -q "ğŸ”¨ğŸœğŸ—ï¸ğŸœğŸ”¨ â•â•â•" .claude/commands/ant/build.md && \
    echo "PASS: build.md and continue.md have standardized banners"
  </verify>
  <done>Both files use the standard banner format</done>
</task>

<task type="auto">
  <name>Task 3: Standardize banners in init.md, seal.md, and entomb.md</name>
  <files>.claude/commands/ant/init.md, .claude/commands/ant/seal.md, .claude/commands/ant/entomb.md</files>
  <action>
Update banner formats in the remaining high-visibility commands.

**In init.md:**

The ASCII art header can remain (it's distinctive for initialization). But any `â•â•â•` or `===` dividers should be replaced with `â”â”â”â”`.

Add a Next Up block at the end of the output:
```
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸœ Next Up
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   /ant:plan                 ğŸ“‹ Create execution plan
   /ant:status               ğŸ“Š Check colony state
   /ant:focus                ğŸ¯ Set initial focus
```

**In seal.md:**

The ASCII crowned anthill art should remain (it's ceremonial). But the text banner:
```
C R O W N E D   A N T H I L L
```
Should have standard banner formatting:
```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
   C R O W N E D   A N T H I L L
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
```

Add a Next Up block at the end:
```
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸœ Next Up
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   /ant:entomb              ğŸº Archive colony to chambers
   /ant:lay-eggs            ğŸ¥š Start a new colony
   /ant:tunnels             ğŸ—„ï¸  Browse archived chambers
```

**In entomb.md:**

Find any banner or header formats and standardize to `â”â”â”â”`. Add a Next Up block at the end:
```
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸœ Next Up
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   /ant:lay-eggs            ğŸ¥š Start a new colony
   /ant:tunnels             ğŸ—„ï¸  Browse archived chambers
```
  </action>
  <verify>
    # Verify standardized banners and Next Up blocks
    grep -q "Next Up" .claude/commands/ant/init.md && \
    grep -q "Next Up" .claude/commands/ant/seal.md && \
    grep -q "Next Up" .claude/commands/ant/entomb.md && \
    echo "PASS: init.md, seal.md, and entomb.md have Next Up blocks"
  </verify>
  <done>All three files have standardized banners and Next Up blocks</done>
</task>

<task type="auto">
  <name>Task 4: Ensure caste emoji display format is consistent</name>
  <files>.claude/commands/ant/build.md, .claude/commands/ant/continue.md</files>
  <action>
Verify and fix caste emoji display format in build.md and continue.md.

The format should be `{emoji} {worker_name}` (e.g., `ğŸ”¨ Hammer-42`), NOT `{worker_name} ({caste})`.

**In build.md:**

Search for patterns like:
- `{Builder-Name} (Builder)` â†’ change to `ğŸ”¨ {Builder-Name}`
- `Builder {Builder-Name}` â†’ change to `ğŸ”¨ {Builder-Name}`

The existing patterns (lines ~422-458) show:
```
  ğŸ”¨ğŸœ {Builder-Name}  Task {id}  {description}
```

This is correct format - emoji + name. Verify all worker displays follow this pattern.

**In continue.md:**

Same verification - ensure all worker mentions use the `{emoji} {name}` format.

Update any display templates to show:
- `ğŸ”¨ {builder_name}` for builders
- `ğŸ‘ï¸ {watcher_name}` for watchers
- `ğŸ² {chaos_name}` for chaos ants
- `ğŸº {archaeologist_name}` for archaeologists

DO NOT change the actual spawn logic or function calls - only the display format in output templates.
  </action>
  <verify>
    # Verify no "Worker (Caste)" patterns exist
    ! grep -q "(Builder)" .claude/commands/ant/build.md | grep -v "task type" && \
    ! grep -q "(Watcher)" .claude/commands/ant/build.md | grep -v "task type" && \
    echo "PASS: Caste emoji display format is consistent"
  </verify>
  <done>All worker displays use the `{emoji} {name}` format</done>
</task>

</tasks>

<verification>
After all tasks complete:

1. Run `bash .aether/aether-utils.sh print-standard-banner "TEST"` - should show standard format
2. Run `bash .aether/aether-utils.sh print-next-up "READY" 2 5` - should show Next Up with build command
3. Verify all 6 command files contain Next Up blocks
4. Run `npm run lint:sync` to verify no sync issues
</verification>

<success_criteria>
- `print-standard-banner` and `print-next-up` helper functions in aether-utils.sh
- All 6 high-visibility commands use standardized `â”â”â”â”` banners
- All 6 commands end with Next Up blocks
- Caste emoji display format is `{emoji} {name}` throughout
- `npm run lint:sync` passes
</success_criteria>

<output>
After completion, create `.planning/phases/11-visual-identity/11-03-SUMMARY.md`
</output>
