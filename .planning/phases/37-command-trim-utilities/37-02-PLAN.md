---
phase: 37-command-trim-utilities
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - .claude/commands/ant/status.md
autonomous: true

must_haves:
  truths:
    - "Status command shows current phase and progress"
    - "Output answers 'where are we?' in ~5 lines"
    - "Signal and worker counts shown without details"
  artifacts:
    - path: ".claude/commands/ant/status.md"
      provides: "Quick-glance colony status"
      max_lines: 85
  key_links:
    - from: "status.md"
      to: "COLONY_STATE.json"
      via: "JSON read"
      pattern: "COLONY_STATE.json"
---

<objective>
Reduce status.md from 308 lines to ~80 lines with quick-glance output.

Purpose: Remove verbose display templates, sensitivity tables, and strength bars obsoleted by Phase 36 TTL migration.
Output: Lean status command showing essential info in ~5 lines.
</objective>

<execution_context>
@~/.claude/cosmic-dev-system/workflows/execute-plan.md
@~/.claude/cosmic-dev-system/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/37-command-trim-utilities/37-CONTEXT.md
@.planning/phases/37-command-trim-utilities/37-RESEARCH.md

# Source file to reduce
@.claude/commands/ant/status.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Reduce status.md to ~80 lines</name>
  <files>.claude/commands/ant/status.md</files>
  <action>
Rewrite status.md with this structure:

```markdown
---
name: ant:status
description: Show colony status at a glance
---

You are the **Queen**. Show colony status.

## Instructions

### Step 1: Read State
Read `.aether/data/COLONY_STATE.json`.
If file missing or `goal: null` -> "No colony initialized. Run /ant:init first.", stop.

### Step 2: Compute Summary
From state, extract:
- Phase: `plan.current_phase` of `plan.total_phases`
- Phase name: from `plan.phases[current_phase-1].name`
- Tasks: count completed vs total in current phase
- Signals: count non-expired signals (filter by expires_at)
- Workers: count items in `workers` array
- Colony state: `state` field (IDLE, EXECUTING, PAUSED)

### Step 3: Display
Output format (~5 lines):

```
Colony: <goal>
Phase <N>/<M>: <phase name>
Tasks: <completed>/<total> complete
Signals: <count> active | Workers: <count> active
State: <state> | Next: /ant:<suggested command>
```

Suggested command logic:
- IDLE -> continue
- EXECUTING -> continue (or wait)
- PAUSED -> resume-colony
```

Remove:
- ASCII art headers and section dividers
- Sensitivity matrix displays
- Pheromone strength bars
- Detailed signal listings (just count)
- Detailed worker listings (just count)
- Error trace displays (separate command if needed)
- Multi-section formatted output
- Activity log excerpts
  </action>
  <verify>wc -l .claude/commands/ant/status.md shows <= 85 lines</verify>
  <done>status.md reduced to ~80 lines with 5-line quick-glance output</done>
</task>

<task type="auto">
  <name>Task 2: Verify status output format</name>
  <files>.claude/commands/ant/status.md</files>
  <action>
Review the reduced status.md and ensure:

1. State reading is correct (single COLONY_STATE.json read)
2. Signal count filters expired signals using expires_at field
3. Phase calculation handles edge cases (no phases, completed)
4. Output format matches CONTEXT.md decision for structured sections

If any issues found, fix them. If logic is correct, no changes needed.
  </action>
  <verify>Read status.md, confirm TTL filtering logic present for signal count</verify>
  <done>Status command correctly filters expired signals and shows accurate counts</done>
</task>

</tasks>

<verification>
- [ ] status.md <= 85 lines
- [ ] Reads from single COLONY_STATE.json
- [ ] Filters expired signals when counting
- [ ] Shows phase progress (N/M format)
- [ ] Shows task completion count
- [ ] Shows signal count only (not details)
- [ ] Shows worker count only (not names)
- [ ] Suggests appropriate next command
- [ ] No sensitivity matrix references remain
</verification>

<success_criteria>
status.md reduced from 308 lines to ~80 lines (~74% reduction).
Output answers "where are we?" in ~5 lines with essential info only.
</success_criteria>

<output>
After completion, create `.planning/phases/37-command-trim-utilities/37-02-SUMMARY.md`
</output>
